:PROPERTIES:
:ID:       52073a83-dbe9-4387-9b23-ac497725ab84
:END:
#+title: Session

* 多用户系统与会话
在我刚学 Linux 的时候，就听过了这样的一句话：

#+begin_quote
Windows 是单用户系统，而 Linux 是天生的多用户系统
#+end_quote

当时的我其实是没有仔细思考这段话的。到底这两者的区别在何处？作为一个个体（而不是一个群体），似乎很难发现二者的区别。

从客观事实描述，就是 Windows 同一时间只能有一个用户，如果希望切换用户，那么需要先将当前的用户登出（logout），然后再登录（login）一个新的用户；而 Linux 系统可以同时有多个用户。为了更好的描述一个多用户的系统，我们引入了会话（session）的抽象。所谓的单用户系统，就是同时只能支持一个会话的系统，而多用户系统，就是同时可以支持多个会话的系统。

所谓的会话，就是指一个用户从登录系统，到登出系统的整个生命周期。我个人感受， *对话之于用户，就好似进程之于程序* 。

* 会话的资源
会话作为一个抽象，有自己独立的资源，大致有如下几种：

** 终端 TTY
从 [[id:39455c08-d2eb-49ae-9afe-c951113e086e][Console, Terminal, TTY]] 里我们得知，tty 的语义就是“一套交互 IO”，这是天然和多用户紧密联系在一起的。因为每个用户为了能够和系统进行交互，就必须独立拥有一套交互 IO 设备，如果只有一个 tty ，那么显然多用户也是没有必要的。

所以每个会话都会有一个自己的 tty （并不绝对），会话所拥有的 tty 又被称为控制终端，它会在 =/dev/= 或者 =/dev/pts/= 下生成一个终端设备文件。

会话的开始往往是通过调用 ~getty~ 程序来完成的，这个命令就是获得一个 tty 终端的意思。我们需要先获得一个控制终端，然后再进行登录等后续事宜。

** 用户权限

** 进程组

* 守护进程
